{"version":3,"sources":["components/Header.js","components/UploadService.js","components/Upload.js","components/ImageComponent.js","text_data/modelInfo.js","components/Info.js","text_data/guide.js","components/Guide.js","components/GuideBox.js","components/AccuracyGraph.js","text_data/background.js","text_data/accuracy.js","App.js","index.js"],"names":["Header","props","menu","title","progress","activeStyle","color","idleStyle","className","Object","keys","map","menuItem","style","img","name","data","FormData","parts","split","append","fetch","method","body","response","json","resp_data","UploadComponent","withIcon","singleImage","label","buttonText","onChange","onImage","imgExtension","withPreview","labelStyles","fileContainerStyle","backgroundColor","padding","buttonStyles","Upload","useState","undefined","url","setImageUrl","errorMessage","setErrorMessage","setImage","disableButton","setDisabled","raceIG","setRaceIG","genderIG","setGenderIG","ageIG","setAgeIG","failedImages","successImages","a","error","message","submit","setProgress","UploadService","UploadToServer","resp","console","log","pp_img","race_ig","gender_ig","age_ig","setData","race","gender","age","setPlotData1","race_results","setPlotData2","age_results","onClick","disabled","override","css","loading","size","src","alt","content","ImageComponent","1","header","2","Info","background","modelInfo","guide","Guide","text","cursor","speed","eraseSpeed","eraseDelay","typingDelay","displayTextRenderer","GuideBox","expected","setExpected","submitDisabled","setSubmitDisabled","submitForm","e","preventDefault","onValueChange","event","target","defaultValue","type","value","margin","AccuracyGraph","height","width","xScale","d3","range","yScale","domain","this","cats","d","val","cat","x","y","plotTitle","colors","svg","bgGradient","attr","xAxis","yAxis","call","selectAll","enter","bandwidth","id","React","Component","accuracy","Home","unbiased","plotData1","biased","plotData2","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c822a8eb.chunk.js","sourcesContent":["import React from 'react'\nimport './Header.css'\n\nconst Header = (props) => {\n    const menu = {\n                \"getUpload\": \"Background\", \n                \"Uploading\": \"→\", \n                \"Uploaded\":\"Prediction\", \n                \"Input\": \"→\", \n                \"Analysis\": \"Analysis\"\n            };\n    let title = props.progress;\n    const activeStyle = {color: '#ffffff'}\n    const idleStyle = {color: '#40406B'}\n\n    return (\n        <div className=\"header-container\">\n            <div className=\"title-container\">\n                <h3 className=\"title-text\">Facial Analysis + Bias Visualization</h3>\n            </div>\n            <div className=\"nav-container\">\n                {\n                    Object.keys(menu).map(menuItem => \n                        <h3 className=\"title-labels\" style={title === menuItem ? activeStyle : idleStyle}>{menu[menuItem]}</h3>\n                    )\n                }\n            </div>\n        </div>\n    )\n}\n\nexport default Header;","class UploadService {\n  async UploadToServer(img, name) {\n\n    const data = new FormData();\n\n    const parts = img[0].split(';')\n\n    data.append('file', parts[2].split(\",\")[1]);\n    data.append('filename', name);\n    \n    let response = await fetch('/api/upload/', {\n      method: 'POST',\n      body: data\n    })\n    let resp_data = await response.json()\n    return resp_data\n\n\n\n  }\n \n  // getImages() {\n  //   return http.get(\"/img\");\n  // }\n}\n\nexport default new UploadService();","import React, {useState} from 'react'\nimport ImageUploader from 'react-images-upload'\nimport UploadService from './UploadService'\nimport CircleLoader from 'react-spinners/CircleLoader'\nimport { css } from \"@emotion/core\";\nimport './Upload.css';\nconst UploadComponent = props => (\n    <form>\n        <ImageUploader\n            key='image-uploader'\n            withIcon={false}\n            singleImage={true}\n            label=\"Please upload an image with a single face.\"\n            buttonText=\"Choose file\"\n            onChange={props.onImage}\n            imgExtension={['.jpg', '.png', '.jpeg']}\n            withPreview={true}\n            labelStyles = {{color: '#ffffff'}}\n            fileContainerStyle={{backgroundColor: 'var(--primary)', padding: '20px'}}\n            buttonStyles = {{backgroundColor: 'var(--highlight)'}}\n        />\n    </form>\n);\nconst Upload = (props) => {\n\n    const [url, setImageUrl] = useState(undefined);\n    const [errorMessage, setErrorMessage] = useState('');\n    const [img, setImage] = useState(null);\n    const [disableButton, setDisabled] = useState(true);\n    const [raceIG, setRaceIG] = useState(null);\n    const [genderIG, setGenderIG] = useState(null);\n    const [ageIG, setAgeIG] = useState(null);\n\n    const onImage = async (failedImages, successImages) => {\n        try {\n            setDisabled(false)\n            setImage(successImages)\n\n        } catch(error) {\n            setErrorMessage(error.message);\n\n        } \n    }\n\n    const loading = () => {\n        const override = css`\n        display: block;\n        margin-left: 0px;\n        `;\n        \n        return(\n            <CircleLoader \n            className={'loader'}\n            color={'#80D8FF'}\n            loading={true}\n            size={150}\n            css={override}\n            />\n        )\n    }\n\n    const submit = async () => {\n        props.setProgress(\"Uploading\");\n        const parts = img[0].split(';');\n        const name = parts[1].split('=')[1];\n\n        const resp = await UploadService.UploadToServer(img, name)\n        console.log(resp)\n        setImageUrl('data:image/jpeg;base64,' + resp.pp_img)\n        setRaceIG( 'data:image/jpeg;base64,' + resp.race_ig)\n        setGenderIG( 'data:image/jpeg;base64,' + resp.gender_ig)\n        setAgeIG( 'data:image/jpeg;base64,' + resp.age_ig)\n        props.setProgress('Uploaded')\n        props.setData({\"race\": resp.race, \"gender\": resp.gender, \"age\": resp.age})\n        props.setPlotData1({\"title\": \"Race Prediction\", \"data\": resp.race_results, \"colors\": [\"#9900ff\", \"#00ccff\"]})\n        props.setPlotData2({\"title\": \"Age Prediction\", \"data\": resp.age_results, \"colors\": [\"#ff4aa7\", \"#e04646\"]})    }\n \n    const content = (props) => {\n        const progress = props.progress\n        switch(progress) {\n            case 'getUpload':\n                fetch('/api/clear/')\n                return <>\n                <div className=\"upload-container\">\n                    <UploadComponent onImage={onImage} url={url} />\n                    <button className=\"submit\" onClick={submit} disabled={disableButton}>Submit</button>\n                </div>\n                </>\n                \n            case 'Uploading':\n                return loading()\n            case 'Uploaded':\n                return (\n                <>\n                    <div className=\"image-container\">\n                        <img className = \"pp-img\" src={url} alt=\"Your Face\"></img>\n                    </div>\n                </>\n                )\n            case 'uploadError':\n                return (\n                    <>\n                        <div className=\"error-message\">{errorMessage}</div>\n                        <div className=\"upload-container\">\n                            <UploadComponent onImage={onImage} url={url} />\n                            <button className=\"submit\" onClick={submit} disabled={disableButton}>Submit</button>\n                        </div>\n                    </>\n                )\n            case 'Analysis':\n                return (\n                <>\n                    <div className=\"ig-container\">\n                        <img className = \"image-container-ig\" src={raceIG} alt=\"Race Integrated Grad\"></img>\n                        <img className = \"image-container-ig\" src={genderIG} alt=\"Gender Integrated Grad\"></img>\n                        <img className = \"image-container-ig\" src={ageIG} alt=\"Age Integrated Grad\"></img>\n                    </div>\n                </>\n                )\n            default:\n                return <>\n                    <div className=\"image-container\">\n                        <img className = \"pp-img\" src={url} alt=\"Your Face\"></img>\n                    </div>\n                </>\n        }\n        \n    }\n\n    return (\n        <div>\n            {content(props)}\n        </div>\n    )\n}\n\nexport default Upload;","import React from 'react'\nimport Upload from './Upload'\nimport './ImageComponent.css'\n\nconst ImageComponent = (props) => {\n    \n    var progress = props.progress\n\n    const content = () => {\n        switch(progress) {  \n            case 'getUpload':\n                return (\n                    <>\n                    <div className=\"upload-container\">\n                        <Upload setProgress={props.setProgress} \n                                setData={props.setData} \n                                setPlotData1={props.setPlotData1}\n                                setPlotData2={props.setPlotData2} \n                                progress={progress}></Upload>\n                    </div>\n                    </>\n                )\n            default:\n                return (\n                    <>\n                    <div className=\"upload-container\">\n                        <Upload setProgress={props.setProgress} \n                                setData={props.setData}\n                                setPlotData1={props.setPlotData1} \n                                setPlotData2={props.setPlotData2} \n                                progress={progress}></Upload>\n                    </div>\n                    </>\n                )\n        }\n    }\n    return (\n        <>\n            <div>\n                {content()}\n            </div>\n        </>\n    )\n}\n\nexport default ImageComponent;","const modelInfo =  {1: {\n    header: \"Model\",\n    body: \"In order to obtain these results, we trained a model on over 80,000 equally distributed images. We can peek at the inner workings of the model through visualizations.\"\n},\n2: {\n    header: \"XAI\",\n    body: \"The concept of visualizing models in order to ensure confidence is called explainable AI, or XAI. Here, we show two methods of explainable AI: integrated gradients and grad-cam. These visualizations help us confirm that our model is fair and accurate. We'll see why this is important in the next slide.\"\n}\n};\n\nexport default {modelInfo};","import React from 'react'\nimport './Info.css'\nimport modelInfo from '../text_data/modelInfo'\n\nconst Info = (props) => {\n    var progress = props.progress;\n    var background = props.data;\n    // console.log(background)\n    const content = () => {\n        switch(progress) {\n            case 'getUpload':\n                return (\n                    <>\n                    <div className=\"background-container\">\n                        <h3>{background.background[1][\"header\"]}</h3>\n                        <p>{background.background[1][\"body\"]}</p>\n\n                        <h3>{background.background[2][\"header\"]}</h3>\n                        <p>{background.background[2][\"body\"]}</p>\n                    </div>\n                    </>\n                )\n            case 'Uploading':\n                return (\n                    <>\n                    <div className=\"background-container\">\n                        <h3>{background.background[1][\"header\"]}</h3>\n                        <p>{background.background[1][\"body\"]}</p>\n\n                        <h3>{background.background[2][\"header\"]}</h3>\n                        <p>{background.background[2][\"body\"]}</p>\n                    </div>\n                    </>\n                )\n            case 'Uploaded':\n                return ( <>\n                <div className=\"results-container\">\n                    <h3><strong>OUR GUESSES:</strong></h3>\n                    <div className=\"results\">\n                        <h5><b>Race:</b></h5>\n                        <h5>{background[\"race\"]}</h5>\n                    </div>\n                    <div className=\"results\">\n                        <h5><b>Gender:</b></h5>\n                        <h5>{background[\"gender\"]}</h5>\n                    </div>\n                    <div className=\"results\">\n                        <h5><b>Age:</b></h5>\n                        <h5>{background[\"age\"]}</h5>\n                    </div>\n                </div>\n                </>\n                )\n            case 'Input':\n                return ( <>\n                <div className=\"correction-container\">\n                </div>\n                </>\n                )\n            case 'Analysis':\n                return ( <>\n                    <div className=\"background-container\">\n                        <h3>{modelInfo.modelInfo[1][\"header\"]}</h3>\n                        <p>{modelInfo.modelInfo[1][\"body\"]}</p>\n\n                        <h3>{modelInfo.modelInfo[2][\"header\"]}</h3>\n                        <p>{modelInfo.modelInfo[2][\"body\"]}</p>\n                    </div>\n                </>\n                )\n            default:\n                return (\n                    <>\n                    </>\n                )\n        }\n    }\n    return (\n        <>\n            <div>\n                {content()}\n            </div>\n        </>\n    )\n}\n\nexport default Info;","const guide =  {\"getUpload\": {\n    \"text\": \"Hello there! To start, please input an image of a face. Or, read through the background information on the left!\",\n    \"speed\": 20,\n    \"eraseDelay\": 10000000,\n    \"typingDelay\": 0,\n    \"eraseSpeed\": 30},\n\"Uploading\": {\"text\": \"Loading...this might take a while...\", \n    \"speed\": 20,\n    \"eraseDelay\": 1000,\n    \"typingDelay\": 100,\n    \"eraseSpeed\": 30},\n\"Uploaded\": {\"text\": \"Your results are out! Is this what you expected?\", \n    \"speed\": 20,\n    \"eraseDelay\": 10000000,\n    \"typingDelay\": 100,\n    \"eraseSpeed\": 30},\n\"Input\": {\"text\": \"You got us! Please input the correct information.\", \n    \"speed\": 20,\n    \"eraseDelay\": 10000000,\n    \"typingDelay\": 100,\n    \"eraseSpeed\": 30},\n\"Analysis\": {\"text\": \"Here is what our model focused on with respect to our predictions.\", \n\"speed\": 20,\n\"eraseDelay\": 10000000,\n\"typingDelay\": 100,\n\"eraseSpeed\": 30}};\n\nexport default {guide};","import React from 'react';\nimport guide from '../text_data/guide'\nimport ReactTypingEffect from 'react-typing-effect';\n \n const Guide = (props) => {\n\n    const beginTyping = () => {\n        return (<>\n            <ReactTypingEffect\n              key = {props.progress}\n              text={guide.guide[props.progress][\"text\"]}\n              cursor={cursor => <h1 style={{color: \"#ffffff\"}}>{cursor}</h1>}\n              speed = {guide.guide[props.progress][\"speed\"]}\n              eraseSpeed = {guide.guide[props.progress][\"eraseSpeed\"]}\n              eraseDelay = {guide.guide[props.progress][\"eraseDelay\"]}\n              typingDelay = {guide.guide[props.progress][\"typingDelay\"]}\n              displayTextRenderer={(text) => {\n                return (\n                  <h4>\n                    {text}\n                  </h4>\n                );\n              }}        \n            />\n          </>\n            )\n    }\n\n    // const listen = () => {\n    //     switch(progress) {\n    //         case 'getUpload':\n    //             setContent(guide.guide['getUpload'])\n    //         case 'Uploading': \n    //             setContent(guide.guide['Uploading'])\n    //     }\n    // }\n\n    return (\n        <>\n            {beginTyping(props)}\n        </>\n    )\n }\n\n\nexport default Guide;","import React, {useState} from 'react'\nimport Guide from './Guide'\nimport './GuideBox.css'\n\nconst GuideBox = (props) => {\n\n    const [expected, setExpected] = useState(undefined)\n    const [submitDisabled, setSubmitDisabled] = useState(true);\n\n    const submitForm  = async (e) => {\n        e.preventDefault()\n        if (expected === 'Yes') {\n            props.setProgress('Analysis')\n            console.log(props.progress)\n        } else if (expected === 'No') {\n            props.setProgress('Input')\n        }\n    }\n    \n    const onValueChange = (event) => {\n        setExpected(event.target.defaultValue)\n        setSubmitDisabled(false)\n        // setExpected\n    }\n\n    const content = () => {\n        switch(props.progress) {  \n            case 'getUpload':\n                return (\n                    <>\n                    <div className=\"guide-bounding\">\n                        <Guide key = {props.progress} className=\"guide\" progress={props.progress}></Guide>\n                    </div>\n                    </>\n                )\n            case 'Uploading':\n                return ( <>\n                    <div className=\"guide-bounding\">\n                        <Guide key = {props.progress} className=\"guide\" progress={props.progress}></Guide>\n                    </div>\n                </>\n                )\n            case 'Uploaded':\n                return ( <>\n                    <div className=\"guide-bounding\">\n                        <div className = \"guide-split\">\n                            <Guide key = {props.progress} className=\"guide\" progress={props.progress}></Guide>\n                            <div className = \"guide-input\">\n                                <p className = \"guide-selections\">\n                                    <input className= \"options yes\" type=\"radio\" name=\"q2\" value=\"Yes\" onChange={onValueChange}/>Yes\n                                    <input className= \"options no\" type=\"radio\" name=\"q2\" value=\"No\" onChange={onValueChange}/>No\n                                    <button className = \"guide-submit submit\" onClick={submitForm} disabled={submitDisabled}>submit</button>\n                                </p>\n                            </div>\n                        </div>\n                    </div>\n                </>\n                )\n            case 'Input':\n                return ( <>\n                    <div className=\"guide-bounding\">\n                        <Guide key = {props.progress} className=\"guide\" progress={props.progress}></Guide>\n                    </div>\n                </>\n                )\n            case 'Analysis':\n                return ( <>\n                    <div className=\"guide-bounding\">\n                        <Guide key = {props.progress} className=\"guide\" progress={props.progress}></Guide>\n                    </div>\n                </>\n                )\n            default:\n                return (\n                    <>\n\n                    </>\n                )\n        }\n    }\n    return (\n        <>\n            <div>\n                {content()}\n            </div>\n        </>\n    )\n}\n\nexport default GuideBox;","import React, { useRef, Component, useEffect } from 'react';\nimport * as d3 from \"d3\";\nimport './AccuracyGraph.css'\n\nconst margin = {\"right\": 20, \"left\": 30, \"top\": 30, \"bottom\": 30};\n\nclass AccuracyGraph extends React.Component {\n    \n    constructor(props) {\n        super(props)\n    }\n\n\n    height = 200;\n    width = 300;\n\n\n    xScale  = d3.scaleBand()\n        .range([ margin.left, this.width-margin.right ])\n\n    yScale = d3.scaleLinear()   \n        .domain([100, 0])\n        .range([margin.top, this.height-margin.top-margin.bottom]);\n\n    componentDidMount() {\n\n        const data = this.props.data\n\n        const values = data.map(function(d) {return d.val})\n        const cats = data.map(function(d) {return d.cat})\n\n        const x = this.xScale.domain(cats);;\n        const y = this.yScale;\n        const height = this.height;\n        const width = this.width;\n        const title = this.props.plotTitle;\n        const colors = this.props.colors;\n        console.log(colors)\n\n        const svg = d3.select(`#${this.props.className}`)\n\n        // Gradients\n        const defs = svg.append('defs');\n\n        const bgGradient = defs\n          .append('linearGradient')\n          .attr('id', `${this.props.className}-bg-gradient`)\n          .attr('gradientTransform', 'rotate(90)');\n      \n        bgGradient\n          .append('stop')\n          .attr('stop-color', colors[0])\n          .attr('offset', '0%');\n        bgGradient\n          .append('stop')\n          .attr('stop-color', colors[1])\n          .attr('offset', '100%');\n      \n        // Axes\n        const xAxis = d3.axisBottom(this.xScale);\n        const yAxis = d3.axisLeft(this.yScale);\n    \n        svg.append(\"g\")\n        .attr(\"class\", \"accuracy-axis\")\n        .attr(\"transform\", `translate(0, ${this.height-margin.top-margin.bottom})`)\n        .call(xAxis)\n        .selectAll(\"text\")\n        .attr(\"transform\", \"translate(-10,0)rotate(-45)\")\n        .style(\"text-anchor\", \"end\");\n\n        svg.append(\"g\")\n        .attr(\"class\", \"accuracy-axis\")\n        .attr(\"transform\", `translate(${margin.left}, 0)`)\n        .call(yAxis)\n\n        // Bars\n        svg.selectAll(\"bars\")\n        .data(data)\n        .enter()\n        .append(\"rect\")\n            .attr(\"x\", function(d) {return x(d.cat) + x.bandwidth()/4})\n            .attr(\"y\", function(d) {return y(d.val)})\n            .attr(\"width\", x.bandwidth()/2)\n            .attr(\"height\", function(d) { return height-margin.top-margin.bottom - y(d.val)})\n            .attr(\"fill\", `url(#${this.props.className}-bg-gradient)`)\n        \n        svg.append(\"g\")\n        .append(\"text\")\n        .attr(\"x\", width/2)\n        .attr(\"y\", margin.top)\n        .attr(\"fill\", \"white\")\n        .text(title)\n        .style(\"text-anchor\", \"middle\");\n\n\n    }\n    \n    render() {\n        return(\n            <>\n            <svg id = {this.props.className} width={this.width} height={this.height}>\n            </svg>\n            </>\n        )\n    }\n}\n\nexport default AccuracyGraph;\n","const background =  {1: {\n    header: \"What is this?\",\n    body: \"Whether it is through self-driving cars, phone facial recognition, or security cameras, automated softwares that analyze our faces have become a pervasive element of our everyday lives. The enigmatic nature of machine learning, especially in relation to facial recognition seems simultaneously terrifying and confusing. But it has the potential to be neither! \"\n},\n2: {\n    header: \"Privacy\",\n    body: \"Rest assured - none of your data will be stored\"\n}\n};\n\nexport default {background};","const accuracy =  {\n                \"unbiased\": {\"title\": \"Unbiased Accuracy (%)\",\n                \"data\": [\n                    {\"cat\": \"Race\", \"val\": 56}, \n                    {\"cat\": \"Gender\", \"val\": 91}, \n                    {\"cat\": \"Age\", \"val\": 66}\n                    ],\n                \"colors\": [\"#E323FF\", \"#7517F8\"]\n            },\n                \"biased\": {\n                    \"title\": \"Biased Accuracy (%)\",\n                    \"data\": [\n                        {\"cat\": \"Race\", \"val\": 40}, \n                        {\"cat\": \"Gender\", \"val\": 80}, \n                        {\"cat\": \"Age\", \"val\": 50}\n                        ],\n                    \"colors\": [\"#00FFC7\", \"#00A3FF\"]\n                }};\nexport default accuracy;","import React, {useState} from 'react'\nimport './App.css';\nimport Header from './components/Header'\nimport ImageComponent from './components/ImageComponent'\nimport Info from './components/Info'\nimport GuideBox from './components/GuideBox'\nimport AccuracyGraph from './components/AccuracyGraph'\nimport background from './text_data/background'\nimport accuracy from './text_data/accuracy'\n\nfunction Home() {\n\n  const [progress, setProgress] = useState('getUpload');\n  const [data, setData] = useState(background)\n  const [plotData1, setPlotData1] = useState(accuracy.unbiased)\n  const [plotData2, setPlotData2] = useState(accuracy.biased)\n  return (\n    <>\n    <header>\n      <Header className=\"header\" progress={progress}></Header>\n    </header>\n    {/* <h2 className=\"page-title\">{title}</h2> */}\n    <div className=\"main-container\">\n      <div className=\"text-container\">\n        <div className=\"info-widget box\">\n          <Info data={data} progress={progress}></Info>\n          </div>\n          <div className=\"stats-container\">\n            <div className=\"stats-widget1 box\">\n              <div className=\"graph-box\">\n                <AccuracyGraph className=\"bar\" \n                                key = {plotData1[\"title\"]}\n                                data ={plotData1[\"data\"]} \n                                plotTitle = {plotData1[\"title\"]} \n                                colors={plotData1[\"colors\"]} />\n              </div>\n            </div>\n            <div className=\"stats-widget2 box\">\n              <div className=\"graph-box\">\n                <AccuracyGraph className=\"bar2\" \n                                    key = {plotData2[\"title\"]}\n                                    data ={plotData2[\"data\"]} \n                                    plotTitle = {plotData2[\"title\"]} \n                                    colors={plotData2[\"colors\"]} />\n              </div>\n            </div>\n          </div>\n      </div>\n      <div className=\"interactive-container\">\n        <div className=\"guide-container\">\n          <GuideBox progress={progress} \n                    setProgress={setProgress}>\n                  \n          </GuideBox>\n        </div>\n        <div className=\"image-upload-widget box\">\n            <ImageComponent className=\"image-upload\" \n                            setData={setData} \n                            setProgress={setProgress} \n                            progress={progress} data={data} \n                            setPlotData1={setPlotData1}\n                            setPlotData2={setPlotData2}></ImageComponent>\n        </div>\n      </div>\n    </div>\n    </>\n  );\n}\n\nexport default Home;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}